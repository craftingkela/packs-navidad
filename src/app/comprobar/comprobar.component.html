<section class="comprobar">
  <app-progress-bar [currentStep]="5"></app-progress-bar>

  <button type="button" class="btn-close" aria-label="Close" (click)="volverAlInicio()"></button>

  <h4>Revisa tu pedido</h4>

  <div class="resumen">
    <!-- Pack seleccionado -->

    <div class="pack-linea" *ngIf="pack">
      <span class="pack-nombre">{{ pack.nombre }}</span>
      <span class="pack-opcion">{{ opcion?.nombre }}</span>
    </div>
    <p *ngIf="!pack">No se ha seleccionado ningún pack.</p>

    <!-- Telas seleccionadas -->

    <div class="telas-grid" *ngIf="telas">
      <!-- Tela principal -->
      <div class="tela-item">
        <p class="telastittle">Tela principal</p>
        <div class="img-container">
          <img *ngIf="telas.exterior?.imagen" [src]="telas.exterior.imagen" alt="Tela exterior">
        </div>
        <p class="tela-nombre">{{ telas.exterior?.nombre }}</p>
      </div>

      <!-- Tela forro -->
      <div class="tela-item">
        <p class="telastittle">Forro</p>
        <div class="img-container">
          <img *ngIf="telas.forro?.imagen" [src]="telas.forro.imagen" alt="Tela forro">
        </div>
        <p class="tela-nombre">{{ telas.forro?.nombre }}</p>
      </div>
    </div>
    <p *ngIf="!telas">No se han seleccionado telas.</p>

    <!-- Datos de contacto -->

    <div *ngIf="contacto">
      <p><strong>Nombre:</strong> {{ contacto.nombre }} {{ contacto.apellido }}</p>
      <p><strong>Correo:</strong> {{ contacto.correo }}</p>
      <p *ngIf="contacto.telefono">Teléfono: {{ contacto.telefono }}</p>

      <h3>Método de envío: {{ envio.metodoEnvio}}</h3>

      <div *ngIf="envio?.metodoEnvio === 'mano'">
        Ciudad de entrega: {{ envio?.ciudadEntrega }}
      </div>

      <div *ngIf="envio?.metodoEnvio === 'correos'">
        Dirección: {{ envio?.direccion.calle }},
        {{ envio?.direccion.numero }},
        {{ envio?.direccion.puerta }},
        {{ envio?.direccion.cp }},
        {{ envio?.direccion.ciudad }}
      </div>

      <div *ngIf="envio?.metodoEnvio === 'plataforma'">
        Aplicación: {{ envio?.plataforma }}
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="actions">
      <button (click)="volver()">Volver</button>
      <button (click)="confirmar()">Confirmar pedido</button>
    </div>
  </div>
</section>